<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="text/javascript" src="{{ url_for('static', filename='openease.js') }}"></script>
  <link type="image/x-icon" rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.png') }}" />

  <script type="text/javascript">
    function FlaskUser(){
        this.username = '{{ current_user.displayname or current_user.username or "anonymous" }}';
        this.mail     = '{{ current_user.email }}';
        this.isLoggedIn = function() {
            return '{{ current_user.is_authenticated }}' == 'True';
        };
        this.isAdmin = function() {
            return '{{ current_user.is_authenticated and current_user.has_role("admin") }}' == 'True';
        };
    };
    var flask_user = new FlaskUser();
  </script>

  <style>
#openease-navbar{
  background: linear-gradient(to bottom,
          #549FC8 0%,
          #246F98 50%,
          #246F98 51%,
          #144F78 100%);
}
a.openease-brand {
  font-family: 'Oswald', sans-serif;
  color: #FFFFFF;
}
.openease-brand img{
  height: 20px;
}
.bg-openease-light {
  background: #549FC8;
  color: white;
}
.bg-openease-dark {
  background: #246F98;
  color: white;
}
#flash_alert_span {
    text-align: center;
  }
#openease-logo {
    width: 100px;
    height: auto;
}
#openease-logo-enlarged {
    width: 300px;
}
.body-bg-color {
    background-color: #ffffff;
}
  </style>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/SCSS/layout.css') }}"/>
  
  {% block head %}{% endblock %}
</head>

<body{% block bodyargs %}{% endblock %}>

<nav class="navbar navbar-expand-lg navbar-dark" id="openease-navbar">
  <a class="navbar-brand openease-brand" href="http://www.open-ease.org">
    <img src="{{ url_for('static', filename='img/oe-logo-small.svg') }}">
    openEASE
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse"
          data-target="#navbarNav" aria-controls="navbarNav"
          aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="/">
          <i class="fas fa-home"></i>
          Home
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/neems">
          <i class="fas fa-search"></i>
          NEEMs
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/tutorials/">
          Tutorials
        </a>
      </li>
    </ul>

{% block nav_right %}{% endblock %}
    <ul class="navbar-nav text-right">
{% if current_user.is_authenticated %}
{% if current_user.has_role('admin') %}
      <!-- Admin Dropdown -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
          <i class="fas fa-user-secret"></i>
          Admin
        </a>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="{{ url_for('admin_cookie') }}">Cookies</a>
          <a class="dropdown-item" href="{{ url_for('render_neem_hub_settings') }}">NEEM Hub Settings</a>
        </div>
      </li>
{% endif %}
      <!-- User Dropdown -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
          <i class="fas fa-user"></i>
          User
        </a>
        <div class="dropdown-menu">
          <a class="dropdown-item" href="{{ url_for('render_user_data') }}">User Info</a>
          <a class="dropdown-item" href="{{ url_for('user.logout') }}"><span class="fas fa-sign-out-alt"></span> Logout</a>
        </div>
      </li>
{% else %}
      <li class="nav-item">
        <a class="nav-link" href="{{ url_for('user.register') }}">
          <span class="fas fa-user-plus"></span> Sign Up
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{{ url_for('user.login') }}">
          <span class="fas fa-sign-in-alt"></span> Login
        </a>
      </li>
{% endif %}
    </ul>
  </div>
</nav>

<!-- let all flash messages rander here -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                <span id="flash_alert_span">{{ message }}</span>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}

<div class="content">
    {% block body %}{% endblock %}
</div>

{% block footer %}
<footer class="footer bg-dark text-white-50">
  <div class="footer-copyright text-center py-3">
    Â© <span id="myYear"> </span> Copyright: University of Bremen
  </div>
</footer>
<script type="text/javascript" src="{{ url_for('static', filename='js/form-js/copyright_year.js') }}"></script>
{% endblock %}

</body>


  

<!-- remove flash alert after 5 seconds -->
<script>
    $("document").ready(function(){
    setTimeout(function(){
        $("div.alert").remove();
    }, 5000 ); // 5 secs

});
</script>
</html>

